---
id: ktr5m
name: Emoji Island Architecture
file_version: 1.0.2
app_version: 0.9.3-5
file_blobs:
  examples/emoji-island/hooks/game.ts: cf2eab3f26a3c4e050e54c2c42ce08947fe3b358
---

`ðŸ“„ examples/emoji-island/package.json` Is the package.json.

`ðŸ“„ examples/emoji-island/index.html` is the main file for Emoji Island

<br/>

This is the game loop
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ examples/emoji-island/hooks/game.ts
```typescript
â¬œ 192        const interval = setInterval(() => {
â¬œ 193          window.requestAnimationFrame(() => {
â¬œ 194            const time = performance.now()
ðŸŸ© 195            const diff = time - lastTime
ðŸŸ© 196    
ðŸŸ© 197            lastTime = time
ðŸŸ© 198    
ðŸŸ© 199            this.entities.forEach((entity) => {
ðŸŸ© 200              const lastActed = this.lastActed.get(entity)
ðŸŸ© 201    
ðŸŸ© 202              if (lastActed !== undefined && lastActed + diff > entity.speed) {
ðŸŸ© 203                entity.act()
ðŸŸ© 204                this.lastActed.set(entity, 0)
ðŸŸ© 205              } else {
ðŸŸ© 206                this.lastActed.set(
ðŸŸ© 207                  entity,
ðŸŸ© 208                  lastActed === undefined ? 0 : lastActed + diff
ðŸŸ© 209                )
ðŸŸ© 210              }
â¬œ 211            })
â¬œ 212          })
â¬œ 213        }, 100)
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBdXNlLW1hZ2ljLWNsYXNzJTNBJTNBc2hpZnR5cA==/docs/ktr5m).